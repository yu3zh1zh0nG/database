# 索引
#### 1. 定义：
- 指建立键值及所在文档中存储位置的对照清单。使用索引可以方便我们进行快速查找，减少遍历次数，提高查找效率 


#### 2. 创建索引
- ensureInsex()
    - 功能： 创建索引
    - 参数： 索引域，索引类别，索引选项

    - 例
        - db.class.ensureIndex({name:1})
            - 根据name域创建索引
            - 1表示正向索引，-1表示逆向索引
- db.class.getIndexes()
    - 查看集合索引
    - _id域是由系统自动为集合创建的索引


- db.class.ensureIndex({name:-1},{name:'zz'})
    - 自定义索引名称，通过第二个参数中的name选项



#### 3.删除索引
- dropIndex()
    - 功能：删除索引
    - 参数：要删除的索引，可以是索引键值对或者索引名称
    - 例：
        - db.class.dropIndex({name:1}) 
        - db.class.dropIndex('zz')

- dropIndexes()
    - 功能：删除所有索引 
    - 删除除_id索引外的所有索引



#### 4. 索引类型
1. 复合索引
    - 根据多个域创建一个索引
    - db.class.ensureIndex({name:1,age:-1})

2. 数组和子文档索引
    - 如果对某个域的值为数组或者子文档的域创建索引，则通过数组或者子文档进行查找时也是索引查找


3. 唯一索引
    - 创建索引时希望集合中创建索引的域的值均不重复
    - db.class.ensureIndex({age:1},{unique:true})
        - age的值必须不能重复，否则出现错误  
        - 当创建唯一索引后，不允许插入重复的值


4. 稀疏索引
    - 只针对有指定域的文档创建索引表，如果某个文档没有该域则不会在索引表中插入内容
    - db.class.ensureIndex({sex:1},{sparse:true})
        - 对没有sex域的文档不做处理


---

### 索引约束
1. 当数据发生更新索引表也要随之更新，影响插入，删除，修改操作效率
2. 索引表也需要占有一定的磁盘空间

#### 综上：适合创建索引的场景
1. 当对数据库进行大量的查找操作，而不是修改操作
2. 集合中文档的数量较大的时候


---



# 作业
1. 熟练mongo的增删改查操作
2. 熟练mongo的索引操作







































